// 1 is for encoding
// 0 is for decoding